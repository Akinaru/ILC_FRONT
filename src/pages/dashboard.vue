<template>
    <div>
        <div class="flex py-3">
            <span v-if="access == 1" class=" ">
                <span class="flex md:flex-row flex-col *:p-2 *:mx-1 *:bg-base-300 *:drop-shadow-lg mb-4">
                    <RouterLink v-for="route in routes" :to="{name: route.routeName}" :class="{ 'border-b-2 border-current text-[#3f2ab4]': $route.name === route.routeName }" class="hover:opacity-60 transition-opacity">{{ route.name }}</RouterLink>
                    
                </span>
            </span>
            <span v-else-if="access == 2">
                <!-- Departement -->
            </span>
            <span v-else>
                <!-- Etu -->
            </span>
        </div>
        <!-- Affichage du contenu du dashboard -->
        <RouterView></RouterView>
    </div>
</template>

<script setup>
    import { useAccountStore } from '../stores/accountStore';
    import { storeToRefs } from 'pinia'

    const routes = [
        {routeName: 'HomeRI', name: 'ğŸ Accueil'},
        {routeName: 'ArticleDash', name: 'ğŸ“„Article'},
        {routeName: 'DepartementDash', name: 'ğŸ“Departement'},
        {routeName: 'AccordDash', name: 'ğŸ”—Accord'},
        {routeName: 'AccessDash', name: 'ğŸ›¡ï¸Access'},
        {routeName: 'EvenementDash', name: 'ğŸ“†Evenements'},
        {routeName: 'HistoriqueDash', name: 'ğŸ•µï¸â€â™€ï¸Historique'},
        {routeName: 'EtudiantsDash', name: 'ğŸ‘©â€ğŸ“Etudiants'},
        {routeName: 'ModifBaseDash', name: 'âš™ï¸Modif base'},
    ]

    const accountStore = useAccountStore();
    const { access } = storeToRefs(accountStore)

</script>